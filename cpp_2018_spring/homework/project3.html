<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
    <title>Project 3</title>
    <style type="text/css">
        code {
            white-space: pre-wrap;
        }

        span.smallcaps {
            font-variant: small-caps;
        }

        div.line-block {
            white-space: pre-line;
        }

        div.column {
            display: inline-block;
            vertical-align: top;
            width: 50%;
        }
    </style>
    <style type="text/css">
        div.sourceLine,
        a.sourceLine {
            display: inline-block;
            min-height: 1.25em;
        }

        a.sourceLine {
            pointer-events: none;
            color: inherit;
            text-decoration: inherit;
        }

        .sourceCode {
            overflow: visible;
        }

        code.sourceCode {
            white-space: pre;
        }

        @media print {
            code.sourceCode {
                white-space: pre-wrap;
            }
            div.sourceLine,
            a.sourceLine {
                text-indent: -1em;
                padding-left: 1em;
            }
        }

        pre.numberSource div.sourceLine,
        .numberSource a.sourceLine {
            position: relative;
        }

        pre.numberSource div.sourceLine::before,
        .numberSource a.sourceLine::before {
            content: attr(data-line-number);
            position: absolute;
            left: -5em;
            text-align: right;
            vertical-align: baseline;
            border: none;
            pointer-events: all;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            padding: 0 4px;
            width: 4em;
        }

        pre.numberSource {
            margin-left: 3em;
            border-left: 1px solid #aaaaaa;
            color: #aaaaaa;
            padding-left: 4px;
        }

        @media screen {
            a.sourceLine::before {
                text-decoration: underline;
                color: initial;
            }
        }

        code span.kw {
            color: #007020;
            font-weight: bold;
        }

        /* Keyword */

        code span.dt {
            color: #902000;
        }

        /* DataType */

        code span.dv {
            color: #40a070;
        }

        /* DecVal */

        code span.bn {
            color: #40a070;
        }

        /* BaseN */

        code span.fl {
            color: #40a070;
        }

        /* Float */

        code span.ch {
            color: #4070a0;
        }

        /* Char */

        code span.st {
            color: #4070a0;
        }

        /* String */

        code span.co {
            color: #60a0b0;
            font-style: italic;
        }

        /* Comment */

        code span.ot {
            color: #007020;
        }

        /* Other */

        code span.al {
            color: #ff0000;
            font-weight: bold;
        }

        /* Alert */

        code span.fu {
            color: #06287e;
        }

        /* Function */

        code span.er {
            color: #ff0000;
            font-weight: bold;
        }

        /* Error */

        code span.wa {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }

        /* Warning */

        code span.cn {
            color: #880000;
        }

        /* Constant */

        code span.sc {
            color: #4070a0;
        }

        /* SpecialChar */

        code span.vs {
            color: #4070a0;
        }

        /* VerbatimString */

        code span.ss {
            color: #bb6688;
        }

        /* SpecialString */

        code span.im {}

        /* Import */

        code span.va {
            color: #19177c;
        }

        /* Variable */

        code span.cf {
            color: #007020;
            font-weight: bold;
        }

        /* ControlFlow */

        code span.op {
            color: #666666;
        }

        /* Operator */

        code span.bu {}

        /* BuiltIn */

        code span.ex {}

        /* Extension */

        code span.pp {
            color: #bc7a00;
        }

        /* Preprocessor */

        code span.at {
            color: #7d9029;
        }

        /* Attribute */

        code span.do {
            color: #ba2121;
            font-style: italic;
        }

        /* Documentation */

        code span.an {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }

        /* Annotation */

        code span.cv {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }

        /* CommentVar */

        code span.in {
            color: #60a0b0;
            font-weight: bold;
            font-style: italic;
        }

        /* Information */
    </style>
    <link rel="stylesheet" href="../../../css/github.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
    <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>

<body>
    <header>
        <h1 class="title">Project 3 类的实现（1）</h1>
    </header>
    <p>经过上一个实验的训练，相信大家对其他人写的类的使用已经有了一个基本的概念，并且能够在他人提供了头文件和类实现的情况下，能够顺利地调用其他人所写的类与其类方法。对于面向对象的语言来说，我个人认为，学会使用别人写好的库虽然重要，但是真正的开发过程都是需要我们自己来完成类的实现，所以这也正是我们学习面向对象语言最重要的部分。从本次练习开始，除了一次C++标准库的练习以外，后面几乎所有的练习都会涉及到类的实现，所以请大家重视这块知识的把握。</p>
    <h2>复数</h2>
    <h3>简介：</h3>
    <p>
        <a href="https://en.wikipedia.org/wiki/Complex_number">复数 (complex number)</a> 定义为
        <span class="math inline">\(z = x + yi\)</span>，其中
        <span class="math inline">\(i^2 = -1\)</span> 称为虚数单位，
        <span class="math inline">\(x, y\in \mathbf{R}\)</span> 为实数，分别称为
        <span class="math inline">\(z\)</span> 的实部 (real part) 和虚部 (imaginary part)。复数的全体记为
        <span class="math inline">\(\mathbf{C} = \{x + yi|x, y \in R\}\)</span>。显然实数是一类特殊的复数
        <span class="math inline">\(\mathbf{R} = \{z\in \mathbf{C}|y=0\}\)</span>。</p>
    <h3 id="复数的运算">复数的运算：</h3>
    <p>考虑两个复数
        <span class="math inline">\(z_1 = x_1 + y_1 i\)</span> 和
        <span class="math inline">\(z_2 = x_2 + y_2 i\)</span>。
        <span class="math inline">\(z_1=z_2\)</span> 当且仅当
        <span class="math inline">\(x_1 = x_2, y_1 = y_2\)</span>。复数的加法和乘法运算规则如下</p>
    <ul>
        <li>
            <p>加法 (addition):
                <span class="math display">\[\begin{eqnarray*} z_1 + z_2 = (x_1+x_2) + (y_1+y_2)i \end{eqnarray*}\]
                </span>
            </p>
        </li>
        <li>
            <p>乘法 (multiplication):
                <span class="math display">\[\begin{eqnarray*} z_1z_2 = (x_1x_2-y_1y_2) + (x_1y_2 + x_2y_1)i \end{eqnarray*}\]
                </span>
            </p>
        </li>
    </ul>
    <p>通过加法和乘法, 可以得到减法:</p>
    <ul>
        <li>减法 (substraction):
            <br />
            <span class="math display">\[\begin{eqnarray*} z_1 - z_2 = z_1 + (-1) z_2 = (x_1-x_2) + (y_1-y_2)i \end{eqnarray*}\]
            </span>
        </li>
    </ul>
    <p>为了定义复数的除法, 首先定义复数
        <span class="math inline">\(z\)</span> 的模长和共轭.</p>
    <ul>
        <li>
            <p>模长 (magnitude):
                <span class="math display">\[\begin{eqnarray*} |z| = \sqrt{x^2 + y^2} \end{eqnarray*}\]
                </span>
            </p>
        </li>
        <li>
            <p>共轭 (conjungate):
                <span class="math display">\[\begin{eqnarray*} \bar{z} = x - yi \end{eqnarray*}\]
                </span>
            </p>
        </li>
    </ul>
    <p>由共轭的定义可以得到
        <span class="math inline">\(z\bar{z} = |z|^2\)</span>, 由此可以定义
        <span class="math inline">\(z\)</span> 的倒数:</p>
    <ul>
        <li>倒数 (reciprocal):
            <span class="math display">\[\begin{eqnarray*} \frac{1}{z} = \frac{\bar{z}}{|z|^2} \end{eqnarray*}\]
            </span>
        </li>
    </ul>
    <p>由此可以定义复数的除法:</p>
    <ul>
        <li>除法 (division):
            <span class="math display">\[\begin{eqnarray*} \frac{z_1}{z_2} = z_1 \frac{1}{z_2} = z_1 \frac{\bar{z_2}}{|z_2|^2} =\frac{(x_1x_2 + y_1y_2)
                - (x_1y_2 - x_2y_1)i}{x_2^2 + y_2^2} \end{eqnarray*}\]
            </span>
        </li>
    </ul>
    <h5>Assignment:</h5>
    <ul>
        <li>
            <p>1. 编写程序，实现复数类：ComplexNum，包含以下API：（建议将声明与其函数分开实现，即头文件中写类的声明、cpp中写函数实现，作业提交时，上传ComplexNum.h、ComplexNum.cpp，而不用3_1.h、3_1.cpp这样的命名方式，满足结构化编程要求）</p>
        </li>
        <table>
            <thead>
                <tr class="header">
                    <th align="left">方法 </th>
                    <th align="left">说明</th>
                </tr>
            </thead>
            <tbody>
                <tr class="even">
                    <td align="left">ComplexNum()</td>
                    <td align="left">构造函数，实部和虚部都为0</td>
                </tr>
                <tr class="odd">
                    <td align="left">ComplexNum(double real, double imag)</td>
                    <td align="left">构造函数</td>
                </tr>
                <tr class="even">
                    <td align="left">ComplexNum add(ComplexNum x)</td>
                    <td align="left">返回与x的和</td>
                </tr>
                <tr class="odd">
                    <td align="left">ComplexNum substract(ComplexNum x)</td>
                    <td align="left">返回与x的差</td>
                </tr>
                <tr class="even">
                    <td align="left">ComplexNum multiply(ComplexNum x)</td>
                    <td align="left">返回与x的积</td>
                </tr>
                <tr class="odd">
                    <td align="left">ComplexNum divide(ComplexNum x)</td>
                    <td align="left">返回与x的商</td>
                </tr>
                <tr class="even">
                    <td align="left">ComplexNum reciprocal()</td>
                    <td align="left">返回倒数</td>
                </tr>
                <tr class="odd">
                    <td align="left">ComplexNum conjugate()</td>
                    <td align="left">返回共轭</td>
                </tr>
                <tr class="even">
                    <td align="left">double abs()</td>
                    <td align="left">返回模长</td>
                </tr>
                <tr class="odd">
                    <td align="left">double getRealPart()</td>
                    <td align="left">返回实部</td>
                </tr>
                <tr class="even">
                    <td align="left">double getImaginaryPart()</td>
                    <td align="left">返回虚部</td>
                </tr>
                <tr class="odd">
                    <td align="left">bool equals(ComplexNum x)</td>
                    <td align="left">是否等于x</td>
                </tr>
                <tr class="even">
                    <td align="left">string toString()</td>
                    <td align="left">字符串表示（如返回"1+2i"）</td>
                </tr>
                <tr class="odd">
                    <td align="left">void print()</td>
                    <td align="left">输出其字符串表示</td>
                </tr>
            </tbody>
        </table>
        <li>
            <p>2. 编写程序，读取两个ComplexNum对象，输出他们的和。</p>
        </li>
        <li>
            <p>3. 编写程序，读取两个ComplexNum对象，输出他们的积、商。</p>
        </li>
        <li>
            <p>4. 编写程序，读取两个ComplexNum对象，比较并输出他们是否相等，输出他们的 差 的实部、虚部、倒数、共轭、模长。</p>
        </li>
        <li>
            <p>5. 编写程序，给定二元一次方程，<span class="math inline">\(ax^2 + bx +c = 0\)</span>，即输入a、b、c，输出它的根。</p>
        </li>
    </ul>
    <h5>Consideration:</h5>
    <ul>
        <li>
            <p>1. 思考你所实现的复数类有什么缺陷？改善这些缺陷。（例如当只有实部时，是否在调用toString()时会输出"1"而不是"1+0i"；当只有虚部时，是否在调用toString()时会输出"6i"而不是"0+6i"；亦或者本该输出"i"时却输出了"0+1i"，该输出"0"时却输出了"0+0i"）</p>
        </li>
        <li>
            <p>2. int是C++中的整数类型，int所占的位数为多少？最多能表示多大范围的整数？double是C++中的双精度浮点数类型，double所占的位数为多少？最多能表示多大范围的浮点数？</p>
        </li>
        <li>
            <p>3. 你所实现的复数类型所能表达多大范围的复数？</p>
        </li>
        <li>
            <p>4. 你觉得这样使用print函数的输出方法是否过于复杂？有什么可以使他更便捷的方法？</p>
        </li>
        <li>
            <p>5. 思考如何实现任意大小的整数运算，为下次实验做准备。（提示：string）</p>
        </li>
    </ul>
    <h5>Hint:</h5>
    <ul>
        <li><p>1. 如果使用Linux的G++编译器去编译多个文件，如：MyClass.h（用于写类的声明）、MyClass.cpp（用于写类的实现）、test.cpp（用于写主函数等），此时在命令行编译时，不需要编译头文件：（下列为Linux命令，#为shell中的注释符号）</p></li>
        <pre><code>g++ test.cpp MyClass.cpp -o programName #-o 后接编译完成后的程序名（也可以不用-o，则程序名为a.out）
./programName #执行程序</code></pre>
        <li><p>2. 读取ComplexNum对象的时候，由于还没有要求写输入重载运算符，所以各位可以首先读入实部、然后读入虚部，再用这两个读入的数据去初始化ComplexNum对象。</p></li>
    </ul>
</body>

</html>